<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIRAYA | SIGN UP</title>
    <link rel="stylesheet" type="text/css" href="/styles/sign-up.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

</head>
<body>
    <div class="header"><%- include('./partials/navbar.ejs')%></div>

    <div class="signup-wrapper container-fluid">
        <div class="title"> <p>Create My Account</p> </div>
        <div class="container-fluid">  
            <div class="row justify-content-center">
                <div class="col-1"></div>
                <div class="col-lg-3 col-md-12">     
                    <main>
                        <input type="file" name="image" id="image-upload" accept="image/*" />
                        <div id="preview" class="text-center">
                            <div class="row justify-content-center text-center">
                                <div class="row">
                                    <div class="img-holder">
                                        <img src='/images/icons/acc.png' alt="profile" id="image" />
                                    </div>
                                </div>
                                <div class="row">
                                    <input type="file" id="input" accept="image/*" onchange="imageHandler(event)"/>
                                </div>
                            </div>
                            <label for="input" class="image-upload" id="upload-button">Add an Avatar</label> 
                        </div>
                    </main>
                </div>

                <div class="col-lg-5 col-md-12">
                    <form class="sign-up-form row" action='/user/signup' method="POST"> 
                        <div class="row">
                            <label class='col-sm-3 text-center signup-label' for="fullName">Full Name</label>
                            <input class='input-details col-sm-6' id="signup-name" type="text" placeholder="Enter Full Name" name="fullName" required />
                        </div>

                        <div class="row">
                            <label class='col-sm-3 text-center signup-label' for="username">Username</label>
                            <input class='input-details col-sm-6' id="signup-uname" type="text" placeholder="Enter Username" style="direction: ltr" name="username" minlength="5" maxlength="12" required />
                        </div>
                        
                        
                        <div class="row">
                            <label class='col-sm-3 text-center signup-label' for="email">Email</label>
                            <input class='input-details col-sm-6' id="signup-email" type="email" placeholder="Enter Email" name="email" required />
                        </div>

                        
                        <div class="row">
                            <label class='col-sm-3 text-center signup-label' for="phoneNum">Phone Number</label>
                            <input class='input-details col-sm-6' id="phone" type="tel" placeholder="Enter Phone Number" name="phoneNum" pattern="[0-9]{4}[0-9]{3}[0-9]{4}" required/>
                        </div>

                        
                        <div class="row">
                            <label class='col-sm-3 text-center signup-label' for="password">Password</label>
                            <input class='input-details col-sm-6' id="signup-pw" type="password" placeholder="Enter Password" name="password" required />
                        </div>
                        
                        
                        <div class="row">
                            <label class='col-sm-3 text-center signup-label' for="birthday">Birthday</label>
                            <input class='input-details col-sm-6' id="birthday" type="date" name="birthday" required/> 
                        </div>
                        
                        
                        <div class="row">
                            <label class="col-sm-3 text-center signup-label" for="gender">Gender</label>
                            <span id="gender-span" class="col-sm-6 my-auto">
                                <select class="form-group gender-select" name="gender" required>
                                    <option defaultValue="gender" style="color: #808080">Gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </span>
                        </div>

                        <div class="text-center">
                            <button type="submit" class="signupbtn" >SIGN UP</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div id = "help"><a href='/faqs'><img src = '/images/icons/questionmark.png' alt="help"/></a></div>

    </div>

    <script>
        function imageHandler(event) {
            var input = event.target;

            var reader = new FileReader();
            reader.onload = function(){
                var dataURL = reader.result;
                var output = document.getElementById('image');
                output.src = dataURL;
            };
            
            reader.readAsDataURL(input.files[0]);
        }
    </script>
</body>
</html>